<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>할일 목록 앱</title>
    <style>
        #add-btn{
            padding: 5px 10px;
            border: 0;
            background: #f80; color: white;
            border-radius: 5px;
        }
        ul{ 
            padding: 0; 
            list-style-position: inside;
        }
        li{
            border-bottom: 1px solid #999;
            padding: 5px 0;
        }
        .active{ background: #abc; } /* step3: 목록 클릭 스타일 */
    </style>
</head>
<body>
    
    <h1 id='title'>할일 목록</h1>
    <button id="add-btn">목록 추가</button>
    <ul id='list'>
        <li>제목 1</li>
        <li>제목 2</li>
        <li>제목 3</li>
        <li>제목 4</li>
    </ul>
 
<script>
 
    // 변수 초기화
    var title = document.getElementById('title'); 
    var list = document.getElementById('list');  //배열 
    var li = list.getElementsByTagName('li');  //배열 
    var addBtn = document.getElementById('add-btn');    // 목록 추가 버튼
 
    // 이벤트리스너
    //list.onclick = activeItem
    list.addEventListener('click', activeItem); 
 
    function activeItem(event){  
        // 클릭한 노드가 li이면 
        console.log(event.target);  //li요소 전체 
        if(event.target.nodeName == 'LI'){   //이벤트를 받아서 ...
            // event.target은 클릭한 객체(엘리먼트, 요소)를 의미 
            // 이벤트 객체 마치 this처럼... 
            title.innerHTML = event.target.innerText;
       
            // 목록 스타일 초기화
            for(var i = 0; i < event.target.parentNode.children.length; i++){
                event.target.parentNode.children[i].removeAttribute('class');
            }  //속성을 제거해라 
            // 클릭한 목록 스타일 지정
            event.target.setAttribute('class', 'active'); // 클릭한 대상    
            //자기 자신은 클래스 속성을 설정한다 // 자기 갖기전에 나머지는 다 초기화한다 
        }    // end if
    }    // end function        
 
    // 목록 추가
    addBtn.addEventListener('click', function(){
        var txt = prompt('제목 입력');  //prompt 내장객체 
        if(txt != null){
        list.innerHTML += '<li>' + txt + '</li>';  //리스트가 갖고있는 
        //append 해도 된다 
        }
    });
 
</script>    
 
</body>
</html>